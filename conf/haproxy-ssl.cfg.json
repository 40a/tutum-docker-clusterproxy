{
    "global": [
        "maxconn 4096",
        "pidfile /var/run/haproxy.pid",
        "user haproxy",
        "group haproxy",
        "daemon"
    ],
    "defaults": [
        "mode    $MODE",
        "option  redispatch",
        "maxconn 4096",
        "timeout connect 5000",
        "timeout client  50000",
        "timeout server  50000"
    ],
    "frontend": {
        "https_frontend":[
            "bind 0.0.0.0:$PORT ssl crt /certs/server.pem",
            "option forwardfor",
            "reqadd X-Forwarded-Proto:\\ https",
            "default_backend cluster"
        ]
    },
    "backend": {
        "cluster": [
            "balance $BALANCE"
        ]
    }
}
