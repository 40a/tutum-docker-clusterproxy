global
        log 127.0.0.1   local0
        log 127.0.0.1   local1 notice
        maxconn 4096
        pidfile /var/run/haproxy.pid
        user haproxy
        group haproxy
        daemon

defaults
        log     global
        mode    http
        option  httplog
        option  dontlognull
        retries 3
        option redispatch
        maxconn 2000
        timeout connect 5000
        timeout client  50000
        timeout server  50000

frontend https_frontend
        bind *:443 ssl crt /server.pem
        mode http
        option httpclose
        option forwardfor
        reqadd X-Forwarded-Proto:\ https
        default_backend cluster
backend cluster
        balance roundrobin
